{"ast":null,"code":"import React,{useState}from'react';import Task from'./task';import useFetch from\"./useFetch\";import NewTaskForm from'./newTaskForm';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Day=_ref=>{var _data$tasks;let{date,data}=_ref;const[showForm,setShowForm]=useState(false);const headerStyles={backgroundColor:'#282c34',minHeight:'10vh',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',color:'black'};const formattedDate=date?date.toLocaleDateString('es-ES',{weekday:'long',year:'numeric',month:'long',day:'numeric'}).replace(/^\\w/,char=>char.toUpperCase()).replace(/(?:^|\\s)\\w/g,char=>char.toUpperCase()):'No date provided';const currentDateOnly=new Date(date);currentDateOnly.setHours(0,0,0,0);const normalizeTaskDate=taskDate=>{const mysqlDate=new Date(taskDate);mysqlDate.setHours(0,0,0,0);return mysqlDate;};const dayTasks=data===null||data===void 0?void 0:(_data$tasks=data.tasks)===null||_data$tasks===void 0?void 0:_data$tasks.filter(task=>{const taskDateNormalized=normalizeTaskDate(task.globalTaskDate);console.log(normalizeTaskDate(task.globalTaskDate));return currentDateOnly.getTime()===taskDateNormalized.getTime();});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:formattedDate}),dayTasks&&dayTasks.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Tasks for today:\"}),/*#__PURE__*/_jsx(\"ul\",{children:dayTasks.map(task=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"span\",{children:task.globalTaskName})},task.taskId))})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No tasks for today\"}),/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:'#007bff',color:'black',padding:'10px',border:'none',cursor:'pointer'},onClick:()=>setShowForm(!showForm),children:showForm?\"Cancelar\":\"Nueva Tarea\"}),showForm&&/*#__PURE__*/_jsx(NewTaskForm,{date:date})]});};export default Day;","map":{"version":3,"names":["React","useState","Task","useFetch","NewTaskForm","jsx","_jsx","jsxs","_jsxs","Day","_ref","_data$tasks","date","data","showForm","setShowForm","headerStyles","backgroundColor","minHeight","display","flexDirection","alignItems","justifyContent","color","formattedDate","toLocaleDateString","weekday","year","month","day","replace","char","toUpperCase","currentDateOnly","Date","setHours","normalizeTaskDate","taskDate","mysqlDate","dayTasks","tasks","filter","task","taskDateNormalized","globalTaskDate","console","log","getTime","children","length","map","globalTaskName","taskId","style","padding","border","cursor","onClick"],"sources":["D:/coso codoso/Scheduler 3000/arodbol97.github.io/scheduler/src/components/day.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Task from './task';\r\nimport useFetch from \"./useFetch\";\r\nimport NewTaskForm from './newTaskForm'; \r\n\r\nconst Day = ({ date, data }) => {    \r\n  const [showForm, setShowForm] = useState(false);   \r\n\r\n  const headerStyles = {\r\n      backgroundColor: '#282c34',\r\n      minHeight: '10vh',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      color: 'black',\r\n  };\r\n\r\n  const formattedDate = date\r\n    ? date.toLocaleDateString('es-ES', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })\r\n        .replace(/^\\w/, (char) => char.toUpperCase())\r\n        .replace(/(?:^|\\s)\\w/g, (char) => char.toUpperCase())\r\n    : 'No date provided';\r\n  \r\n  const currentDateOnly = new Date(date);\r\n  currentDateOnly.setHours(0, 0, 0, 0); \r\n  \r\n  const normalizeTaskDate = (taskDate) => {\r\n    const mysqlDate = new Date(taskDate); \r\n    mysqlDate.setHours(0, 0, 0, 0); \r\n    return mysqlDate;\r\n  };\r\n  \r\n  const dayTasks = data?.tasks?.filter(task => {\r\n    const taskDateNormalized = normalizeTaskDate(task.globalTaskDate);\r\n    console.log(normalizeTaskDate(task.globalTaskDate));\r\n    return currentDateOnly.getTime() === taskDateNormalized.getTime();\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      {}\r\n      <h1>{formattedDate}</h1>    \r\n\r\n      {dayTasks && dayTasks.length > 0 ? (\r\n        <div>\r\n          <h2>Tasks for today:</h2>\r\n          <ul>\r\n            {dayTasks.map((task) => (\r\n              <li key={task.taskId}>\r\n                <span>{task.globalTaskName}</span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      ) : (\r\n        <p>No tasks for today</p>\r\n      )}\r\n      \r\n      <button \r\n        style={{ backgroundColor: '#007bff', color: 'black', padding: '10px', border: 'none', cursor: 'pointer' }}\r\n        onClick={() => setShowForm(!showForm)}\r\n      >\r\n        {showForm ? \"Cancelar\" : \"Nueva Tarea\"}\r\n      </button>\r\n      \r\n      {showForm && <NewTaskForm date={date} />}\r\n    </div>    \r\n  );\r\n};\r\n\r\nexport default Day;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}